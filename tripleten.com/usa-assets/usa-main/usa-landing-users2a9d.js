(function(){"use strict";let g=[],h=0;const _=4;let M=e=>{let t=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(i){return n.lc=t.push(i),()=>{for(let o=h+_;o<g.length;)g[o]===i?g.splice(o,_):o+=_;let r=t.indexOf(i);~r&&(t.splice(r,1),--n.lc||n.off())}},notify(i,r){let o=!g.length;for(let a of t)g.push(a,n.value,i,r);if(o){for(h=0;h<g.length;h+=_)g[h](g[h+1],g[h+2],g[h+3]);g.length=0}},off(){},set(i){let r=n.value;r!==i&&(n.value=i,n.notify(r))},subscribe(i){let r=n.listen(i);return i(n.value),r},value:e};return n};const Z=5,E=6,I=10;let ee=(e,t,n,i)=>(e.events=e.events||{},e.events[n+I]||(e.events[n+I]=i(r=>{e.events[n].reduceRight((o,a)=>(a(o),o),{shared:{},...r})})),e.events[n]=e.events[n]||[],e.events[n].push(t),()=>{let r=e.events[n],o=r.indexOf(t);r.splice(o,1),r.length||(delete e.events[n],e.events[n+I](),delete e.events[n+I])}),te=1e3,ne=(e,t)=>ee(e,i=>{let r=t(i);r&&e.events[E].push(r)},Z,i=>{let r=e.listen;e.listen=(...a)=>(!e.lc&&!e.active&&(e.active=!0,i()),r(...a));let o=e.off;return e.events[E]=[],e.off=()=>{o(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let a of e.events[E])a();e.events[E]=[]}},te)},()=>{e.listen=r,e.off=o}}),ie=(e={})=>{let t=M(e);return t.setKey=function(n,i){let r=t.value;typeof i>"u"&&n in t.value?(t.value={...t.value},delete t.value[n],t.notify(r,n)):t.value[n]!==i&&(t.value={...t.value,[n]:i},t.notify(r,n))},t},C=e=>e,S={},v={addEventListener(){},removeEventListener(){}};function re(){try{return typeof localStorage<"u"}catch{return!1}}re()&&(S=localStorage),typeof window<"u"&&(v={addEventListener(e,t,n){window.addEventListener("storage",t),window.addEventListener("pageshow",n)},removeEventListener(e,t,n){window.removeEventListener("storage",t),window.removeEventListener("pageshow",n)}});function oe(e,t={},n={}){let i=n.encode||C,r=n.decode||C,o=ie(),a=o.setKey,c=(s,d)=>{typeof d>"u"?(n.listen!==!1&&v.perKey&&v.removeEventListener(e+s,u,p),delete S[e+s]):(n.listen!==!1&&v.perKey&&!(s in o.value)&&v.addEventListener(e+s,u,p),S[e+s]=i(d))};o.setKey=(s,d)=>{c(s,d),a(s,d)};let l=o.set;o.set=function(s){for(let d in s)c(d,s[d]);for(let d in o.value)d in s||c(d,void 0);l(s)};function u(s){s.key?s.key.startsWith(e)&&(s.newValue===null?a(s.key.slice(e.length),void 0):a(s.key.slice(e.length),r(s.newValue))):l({})}function p(){let s={...t};for(let d in S)d.startsWith(e)&&(s[d.slice(e.length)]=r(S[d]));for(let d in s)o.setKey(d,s[d])}return ne(o,()=>{if(p(),n.listen!==!1)return v.addEventListener(e,u,p),()=>{v.removeEventListener(e,u,p);for(let s in o.value)v.removeEventListener(e+s,u,p)}}),o}const se="0S9V7R9M47",ae=()=>{const e=new URLSearchParams(window.location.search.toLowerCase()),t=document.cookie.match(/(?:^|;)\s*_ttp=([^;]*)/),n=t!=null&&t.length?decodeURIComponent(t[1]):null,i=e.get("ttclid"),r=document.cookie.match(/(?:^|;)\s*ttclid=([^;]*)/),o=r!=null&&r.length?decodeURIComponent(r[1]):null;return{ttp:n,ttclid:i??o}};function ce(){const e=document.cookie.match(/(?:^|;)\s*_ga=([^;]*)/)||[],t=e?decodeURIComponent(e[1]).match(/\d+\.\d+$/):null;if(t)return t[0]}function le(){const e=document.cookie.match(/(?:^|;)\s*_ga=([^;]*)/)||[],t=e?decodeURIComponent(e[1]).match(/\d+\.\d+$/):null;if(t)return t[0]}function ue(){const e=new RegExp(`_ga_${se}=GS\\d\\.\\d\\.(.+?)(?:;|$)`),t=document.cookie.match(e),n=t==null?void 0:t[1].split(".");return n&&n.shift()||"N/A"}const de=()=>{var e;return(e=window.dataLayer)!=null&&e.push?le()!==void 0:!1},R=30*24*60*60*1e3,fe=2*R,me=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","utm_keyword","utm_placement","utm_platform","utm_device","utm_matchtype","utm_network","utm_campaignid","utm_adgroupid","utm_adid","utm_targetid"],ge=["gclid","fbclid","msclkid","twclid","sccid","rdt_cid","qclid"],f=oe("analytics.",{},{listen:!0,encode:JSON.stringify,decode:JSON.parse}),y=({store:e,key:t,value:n,expirationPeriod:i=fe})=>{var c;const r=e.get(),o=Date.now(),a=((c=r[t])==null?void 0:c.updatedAt)||0;o-a>i&&e.set({...r,[t]:{updatedAt:o,value:n}})},$=()=>{var a,c;y({store:f,key:"firstEntrance",value:new Date().toISOString()});const e=new URLSearchParams(window.location.search.toLowerCase()),t={};e.forEach((l,u)=>{me.includes(u)&&(t[u]=l)});const{referrer:n}=document,i=f.get();!((a=i.firstUtm)!=null&&a.value.utm_source)&&!((c=i.firstUtm)!=null&&c.value.utm_medium)&&window.location.href.startsWith("https://tripleten.com/blog")&&f.setKey("firstUtm",{value:{utm_source:"blog_organic",utm_campaign:"blog_organic",utm_content:window.location.pathname},updatedAt:Date.now()}),Object.keys(t).length>0&&(y({store:f,key:"firstUtm",value:t}),y({store:f,key:"firstLanding",value:window.location.href}),n.startsWith("https://tripleten.com")||y({store:f,key:"firstReferrer",value:n}));const r=["utm_source","utm_campaign","utm_medium"];if(r.every(l=>{var u;return e.get(l)===((u=f.get().lastUtm)==null?void 0:u.value[l])}))return;const o=()=>{ge.forEach(l=>{const u=e.get(l);u&&f.setKey(l,u)})};if(r.some(l=>!!e.get(l))){f.setKey("lastUtm",{value:t,updatedAt:Date.now()}),n.startsWith("https://tripleten.com")||f.setKey("referrer",n),o();return}n.startsWith("https://tripleten.com")||(f.setKey("lastUtm",{value:t,updatedAt:Date.now()}),f.setKey("referrer",n),o())},pe=()=>{const e=ae();e.ttp&&y({store:f,key:"ttp",value:e.ttp}),e.ttclid&&y({store:f,key:"ttclid",value:e.ttclid})},he=()=>{var i;const e=(i=f.get().gaSessionId)==null?void 0:i.value,t=ue();e!==t&&y({store:f,key:"gaSessionId",value:t,expirationPeriod:0});const n=ce();n&&f.setKey("gaid",n)},ve=(e,t,n)=>{const i=localStorage.getItem(e),r=t?localStorage.getItem(t):null;if(!i){console.warn(`Source key "${e}" not found in localStorage.`);return}let o;try{o=JSON.parse(i)}catch(l){if(!t)o=i;else{console.warn(`Failed to parse source value for key "${e}":`,l);return}}const a=r?parseInt(r,10):null;if(a&&isNaN(a)){console.warn(`Invalid timestamp for key "${t}": ${r}`);return}const c=f.get();if(t){const l=c[n],u=Date.now();if(!(a?u-a>2*R:!1)&&!l){const s=a||u;f.setKey(n,{value:o,updatedAt:s}),console.info(`Set key "${n}" in analyticsStore with timestamp ${new Date(s)}.`)}}else c[n]||(f.setKey(n,o),console.info(`Set key "${n}" in analyticsStore without timestamp.`))},P=()=>{if([["last-utm","last-utm-time","lastUtm"],["first-utm","first-utm-time","firstUtm"],["referrer",null,"referrer"],["ttp","last-ttp-time","ttp"],["ttclid","last-ttclid-time","ttclid"],["ga_session_id","ga_session_id_timestamp","gaSessionId"],["first-landing",null,"firstLanding"]].forEach(([t,n,i])=>{ve(t,n,i)}),!window.location.href.startsWith("https://tripleten.blog")){if(window.location.href.startsWith("https://tripleten.com/blog")){$();return}$(),pe(),setTimeout(function t(){de()?he():setTimeout(t,1e3)},1e3)}},we="us-lead-form",N=393545,ye=M(null),Se=async()=>{try{const t=await(await fetch("/api/landing/users/me/",{headers:{"x-client-id":we}})).json();return ye.set(t),t}catch(e){return console.error(e),{}}};var L=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function be(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Te(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var D=Te,_e=typeof L=="object"&&L&&L.Object===Object&&L,Ee=_e,Ie=Ee,Le=typeof self=="object"&&self&&self.Object===Object&&self,ke=Ie||Le||Function("return this")(),x=ke,Oe=x,Ue=function(){return Oe.Date.now()},Ae=Ue,Me=/\s/;function Ce(e){for(var t=e.length;t--&&Me.test(e.charAt(t)););return t}var Re=Ce,$e=Re,Pe=/^\s+/;function Ne(e){return e&&e.slice(0,$e(e)+1).replace(Pe,"")}var De=Ne,xe=x,We=xe.Symbol,W=We,j=W,G=Object.prototype,je=G.hasOwnProperty,Ge=G.toString,b=j?j.toStringTag:void 0;function Fe(e){var t=je.call(e,b),n=e[b];try{e[b]=void 0;var i=!0}catch{}var r=Ge.call(e);return i&&(t?e[b]=n:delete e[b]),r}var qe=Fe,Be=Object.prototype,Qe=Be.toString;function Ve(e){return Qe.call(e)}var Xe=Ve,F=W,Ye=qe,Je=Xe,He="[object Null]",ze="[object Undefined]",q=F?F.toStringTag:void 0;function Ke(e){return e==null?e===void 0?ze:He:q&&q in Object(e)?Ye(e):Je(e)}var Ze=Ke;function et(e){return e!=null&&typeof e=="object"}var tt=et,nt=Ze,it=tt,rt="[object Symbol]";function ot(e){return typeof e=="symbol"||it(e)&&nt(e)==rt}var st=ot,at=De,B=D,ct=st,Q=0/0,lt=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,dt=/^0o[0-7]+$/i,ft=parseInt;function mt(e){if(typeof e=="number")return e;if(ct(e))return Q;if(B(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=B(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=at(e);var n=ut.test(e);return n||dt.test(e)?ft(e.slice(2),n?2:8):lt.test(e)?Q:+e}var gt=mt,pt=D,O=Ae,V=gt,ht="Expected a function",vt=Math.max,wt=Math.min;function yt(e,t,n){var i,r,o,a,c,l,u=0,p=!1,s=!1,d=!0;if(typeof e!="function")throw new TypeError(ht);t=V(t)||0,pt(n)&&(p=!!n.leading,s="maxWait"in n,o=s?vt(V(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function U(m){var w=i,T=r;return i=r=void 0,u=m,a=e.apply(T,w),a}function It(m){return u=m,c=setTimeout(k,t),p?U(m):a}function Lt(m){var w=m-l,T=m-u,K=t-w;return s?wt(K,o-T):K}function H(m){var w=m-l,T=m-u;return l===void 0||w>=t||w<0||s&&T>=o}function k(){var m=O();if(H(m))return z(m);c=setTimeout(k,Lt(m))}function z(m){return c=void 0,d&&i?U(m):(i=r=void 0,a)}function kt(){c!==void 0&&clearTimeout(c),u=0,i=l=r=c=void 0}function Ot(){return c===void 0?a:z(O())}function A(){var m=O(),w=H(m);if(i=arguments,r=this,l=m,w){if(c===void 0)return It(l);if(s)return clearTimeout(c),c=setTimeout(k,t),U(l)}return c===void 0&&(c=setTimeout(k,t)),a}return A.cancel=kt,A.flush=Ot,A}var St=yt;const bt=be(St)(e=>{Tt()<-100&&e()},17),Tt=(()=>{let e,t,n,i;function r(){e=null,i=0}return r(),()=>(t=window.scrollY,e!==null&&(i=t-e),e=t,clearTimeout(n),n=setTimeout(r,50),i)})();window.PRACTICUM_PARAMS={profession:"",...window.PRACTICUM_PARAMS};let X=!1;const _t={"/se/":"Software Engineering","/software-engineer/":"Software Engineering","/bi/":"BI Analysis","/ds/":"Data Science","/data-science/":"Data Science","/qa/":"QA Engineering","/qa-engineer/":"QA Engineering","/test-dev-usa/se-gsc/":"Test Testing","/cs/":"Cyber Security Analyst","/cybersecurity/":"Cyber Security Analyst","/uxui/":"UX/UI Designer","/uxui-design/":"UX/UI Designer"},Y=1e3;setTimeout(async function e(){const t=window.gsc,n=window.PRACTICUM_PARAMS;if(!t){setTimeout(e,Y);return}if(t("params",{landingProfession:_t[window.location.pathname]||"Software Engineering"}),"ontouchstart"in window&&n.gscMobileWidget!==null){const i=()=>{var r;X||(t("show",n.gscMobileWidget??N),X=!0,(r=window.dataLayer)==null||r.push({event:"gscMobileWidgetTriggered",element_id:n.gscMobileWidget??N}))};window.addEventListener("scroll",()=>{bt(i)})}},Y);const J=e=>{document.querySelectorAll(".t-btn").forEach(t=>{var i;((i=t.textContent)==null?void 0:i.trim().toLowerCase())==="log in"&&t.classList.add("login-btn")}),document.querySelectorAll(".login-btn").forEach(t=>{const i=t.tagName.toLowerCase()==="a"?t:t.querySelector("a");if(i)if(e)t.classList.add("logged"),i.setAttribute("href",`/profile/?from=${encodeURIComponent("/success/")}`);else{const r=i.getAttribute("href")||"",o=`/profile/?from=${encodeURIComponent("/success/")}`;i.setAttribute("href",`${r}${r.includes("?")?"&":"?"}retpath=${encodeURIComponent(o)}`)}})},Et=()=>{const e=new Date;e.setFullYear(e.getFullYear()+1);const t=location.host.split(".").slice(-2).join(".");document.cookie=`auto_login_return_uri=/sso/auth/?retpath=${encodeURIComponent("/home/?from=/thanks/success")}; expires=${e}; path=/; domain=.${t}`};(async()=>{if(window.location.href.startsWith("https://tripleten.blog"))return;if(window.location.href.startsWith("https://tripleten.com/blog")){P();return}P(),Et();const e=await Se(),{firstName:t}=e;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>J(t)):J(t)})()})();
